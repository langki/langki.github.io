import{u as ve,a as re,b as ue,i as de,c as le,o as ge,d as ce,l as ke,r as be,e as $e,p as xe}from"./index-CI_QF3t5.js";import{u as pe,_ as Ce}from"./route-view.vue_vue_type_script_setup_true_lang-GVUdqz0N.js";import{d as U,ae as Me,V as z,a4 as a,ab as _,ac as l,k as r,u as e,G as P,a7 as T,af as x,a2 as u,F as k,c as S,ag as f,ah as H,s as ae,S as F,ai as I,aj as D,ak as Se,aa as se,al as Q,H as we,am as Le,b as Te,B as ie,w as Ke,an as Pe}from"./vue-BG1emjmP.js";import{L as Ue,b as Re,c as J,M as B,D as he,G as Ae,e as _e,f as ne,S as Fe,g as He,i as Oe,h as We,j as De,m as Ie,n as ze,p as Be,q as Ve,r as Ee,R as Ne,s as je,t as Ge,T as qe,u as Qe}from"./antd-B7NuRx5N.js";import{u as O,s as W,n as Z,a as ee,b as A,e as q,c as Je}from"./context-BMeipo-2.js";import{_ as Xe}from"./index.vue_vue_type_style_index_0_lang-F1R8y8oM.js";import{u as Ye}from"./query-breakpoints-CChVGaVn.js";const Ze={hover:"bg-[var(--hover-color)]",flex:"","items-center":"","h-48px":"","px-12px":"","cursor-pointer":"",class:"transition-all-300"},et={class:"anticon"},tt=U({__name:"index",setup(w){const n=ve(),t=re(),s=pe(),d=ue(),p=Me(),{avatar:h,nickname:v}=z(t);async function o({key:m}){if(m==="logout"){const g=n.loading("退出登录...",0);try{await t.logout()}finally{g(),n.success("退出登录成功",3),p.push({path:"/login"}).then(()=>{s.clear(),d.clear()})}}}return(m,g)=>{const b=Re,C=J,M=B,c=he;return a(),_(c,null,{overlay:l(()=>[r(M,{onClick:o},{default:l(()=>[r(C,{key:"logout"},{icon:l(()=>[r(e(Ue))]),default:l(()=>[P(" 退出登录 ")]),_:1})]),_:1})]),default:l(()=>[T("span",Ze,[r(b,{src:e(h),"mr-8px":"",size:"small"},null,8,["src"]),T("span",et,x(e(v)),1)])]),_:1})}}}),nt=T("a",{"decoration-none":"",href:"https://antdv-pro.com",target:"_blank"},"Antdv Pro",-1),at={"decoration-none":"",href:"https://github.com/antdv-pro/antdv-admin-pro",target:"_blank"},ot=T("a",{"decoration-none":"",href:"https://antdv.com",target:"_blank"},"Ant Design Vue",-1),lt=U({name:"FooterLinks",__name:"footer-links",setup(w){return(n,t)=>(a(),u(k,null,[nt,T("a",at,[r(e(Ae))]),ot],64))}}),st={"c-primary":""},it=["src"],rt={key:0},ut=U({__name:"global-header-logo",setup(w){const{logo:n,title:t,layout:s,isMobile:d}=O(),p=S(()=>({"ant-pro-global-header-logo":s.value==="mix"||d.value,"ant-pro-top-nav-header-logo":s.value==="top"&&!d.value}));return(h,v)=>(a(),u("div",{class:H(e(p))},[T("a",st,[T("img",{src:e(n)},null,8,it),e(d)?f("",!0):(a(),u("h1",rt,x(e(t)),1))])],2))}}),dt=U({__name:"index",setup(w){const{layout:n,isMobile:t,handleMobileCollapsed:s,theme:d,menuHeader:p,collapsed:h,handleCollapsed:v,leftCollapsed:o}=O(),m=ae("ant-pro-global-header"),g=S(()=>({[m.value]:!0,[`${m.value}-layout-${n.value}`]:!!n.value,[`${m.value}-inverted`]:d.value==="inverted"&&n.value==="top"}));return(b,C)=>{const M=Fe;return a(),u("div",{class:H([e(g)])},[e(n)==="side"&&!e(t)&&!e(o)?(a(),u("span",{key:0,class:"ml-0 text-18px",onClick:C[0]||(C[0]=c=>{var K;return(K=e(v))==null?void 0:K(!e(h))})},[e(h)?(a(),_(e(_e),{key:0})):(a(),_(e(ne),{key:1}))])):f("",!0),e(p)?(a(),u(k,{key:1},[e(n)!=="side"||e(t)?(a(),_(ut,{key:0})):f("",!0)],64)):f("",!0),e(t)?(a(),u("span",{key:2,class:"ant-pro-global-header-collapsed-button",onClick:C[1]||(C[1]=(...c)=>e(s)&&e(s)(...c))},[r(e(ne))])):f("",!0),T("div",{class:H(["flex-1",e(n)==="top"?`${e(m)}-top`:"overflow-x-auto"])},[F(b.$slots,"headerContent")],2),r(M,{align:"center","flex-shrink-0":""},{default:l(()=>[F(b.$slots,"headerActions")]),_:3})],2)}}}),ct=U({__name:"index",setup(w){const{headerHeight:n,fixedHeader:t,layout:s,isMobile:d,collapsed:p,collapsedWidth:h,siderWidth:v,menu:o,splitMenus:m,selectedMenus:g}=O(),b=S(()=>{const c={height:`${n.value}px`,lineHeight:`${n.value}px`,paddingInline:0};if((t.value||s.value==="mix")&&(c.zIndex=100,c.width="100%",c.right=0),s.value==="side"&&o.value){if(!d.value&&t.value){const K=p.value?h.value:v.value;c.width=`calc(100% - ${K}px)`}c.zIndex=19}return c}),C=S(()=>{const c=[];return(t.value||s.value==="mix")&&c.push("ant-pro-fixed-header"),s.value&&c.push("ant-pro-fixed-header-action"),s.value==="mix"&&c.push("ant-pro-fixed-header-inverted"),c}),M=S(()=>t.value||s.value==="mix"&&(m.value?(g.value??[]).length>0:!0));return(c,K)=>{const R=He;return a(),u(k,null,[e(M)?(a(),_(R,{key:0,style:I({height:`${e(n)}px`,lineHeight:`${e(n)}px`,background:"transparent"})},null,8,["style"])):f("",!0),r(R,{style:I(e(b)),class:H(e(C))},{default:l(()=>[r(dt,null,D({_:2},[c.$slots.headerActions?{name:"headerActions",fn:l(()=>[F(c.$slots,"headerActions")]),key:"0"}:void 0,c.$slots.headerContent?{name:"headerContent",fn:l(()=>[F(c.$slots,"headerContent")]),key:"1"}:void 0]),1024)]),_:3},8,["style","class"])],64)}}}),te=U({__name:"async-icon",props:{icon:{type:[String,Function]}},setup(w){const n=w,t=S(()=>{if(de(n.icon)){const s=n.icon();if(s)return s}else return Oe[n.icon]});return(s,d)=>s.icon?(a(),_(Se(e(t)),{key:0})):f("",!0)}}),pt=["href","target"],ht=["href","target"],fe=U({__name:"sub-menu",props:{item:{},link:{type:Boolean,default:!0}},setup(w){function n(t){return de(t)?t():t}return(t,s)=>{const d=se("sub-menu",!0),p=se("RouterLink"),h=J,v=We;return t.item.children&&!t.item.hideChildrenInMenu?(a(),_(v,{key:t.item.path},D({title:l(()=>[P(x(n(t.item.title)),1)]),default:l(()=>[(a(!0),u(k,null,Q(t.item.children,o=>(a(),u(k,null,[o.hideInMenu?f("",!0):(a(),u(k,{key:0},[o.children?(a(),_(d,{key:o.path,item:o},null,8,["item"])):(a(),_(h,{key:o.path},D({default:l(()=>[e(le)(o.path)?(a(),u("a",{key:1,href:o.path,target:o.target??"_blank"},x(n(o.title)),9,pt)):(a(),u(k,{key:0},[t.link?(a(),_(p,{key:0,to:o.path},{default:l(()=>[P(x(n(o.title)),1)]),_:2},1032,["to"])):(a(),u(k,{key:1},[P(x(n(o.title)),1)],64))],64))]),_:2},[o.icon?{name:"icon",fn:l(()=>[r(te,{icon:o.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))],64))],64))),256))]),_:2},[t.item.icon?{name:"icon",fn:l(()=>[r(te,{icon:t.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024)):(a(),_(h,{key:t.item.path},D({default:l(()=>[e(le)(t.item.path)?(a(),u("a",{key:1,href:t.item.path,target:t.item.target??"_blank"},x(n(t.item.title)),9,ht)):(a(),u(k,{key:0},[t.link?(a(),_(p,{key:0,to:t.item.path},{default:l(()=>[P(x(n(t.item.title)),1)]),_:1},8,["to"])):(a(),u(k,{key:1},[P(x(n(t.item.title)),1)],64))],64))]),_:2},[t.item.icon?{name:"icon",fn:l(()=>[r(te,{icon:t.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))}}}),me=U({__name:"index",setup(w){const{theme:n,collapsed:t,layout:s,isMobile:d,selectedMenus:p,selectedKeys:h,openKeys:v,handleOpenKeys:o,handleSelectedKeys:m,handleMenuSelect:g}=O(),b=S(()=>n.value==="inverted"?"dark":n.value);return(C,M)=>{const c=B;return a(),_(c,{"selected-keys":e(h),"open-keys":e(t)?[]:e(v),mode:e(s)==="top"&&!e(d)?"horizontal":"inline",theme:e(b),collapsed:e(t),class:"ant-pro-sider-menu","onUpdate:openKeys":e(o),"onUpdate:selectedKeys":e(m),onSelect:e(g)},{default:l(()=>[(a(!0),u(k,null,Q(e(p),K=>(a(),u(k,null,[K.hideInMenu?f("",!0):(a(),_(fe,{key:K.path,item:K},null,8,["item"]))],64))),256))]),_:1},8,["selected-keys","open-keys","mode","theme","collapsed","onUpdate:openKeys","onUpdate:selectedKeys","onSelect"])}}}),_t=["src"],ft={key:0},mt={class:"flex-1 of-x-hidden of-y-auto scrollbar"},ye=U({__name:"index",setup(w){const{collapsed:n,leftCollapsed:t,handleCollapsed:s,selectedMenus:d,splitMenus:p,layout:h,logo:v,theme:o,title:m,collapsedWidth:g,siderWidth:b,headerHeight:C,fixedSider:M,isMobile:c,header:K}=O(),R=ae("ant-pro-sider"),V=S(()=>{const i={paddingTop:`${h.value!=="side"&&!c.value?C.value:0}px`,transition:"background-color 0.3s ease 0s, min-width 0.3s ease 0s, max-width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1) 0s",overflow:"hidden"};return h.value==="mix"&&K.value===!1&&(i.paddingTop="0px"),i}),X=S(()=>({[R.value]:!0,[`${R.value}-fixed`]:M.value,[`${R.value}-layout-${h.value}`]:!!h.value})),E=S(()=>(h.value==="side"||c.value)&&h.value!=="mix");return(i,$)=>{const y=J,N=B,j=De;return a(),u(k,null,[e(M)?(a(),u("div",{key:0,style:I({width:e(n)?`${e(g)}px`:`${e(b)}px`,maxWidth:e(n)?`${e(g)}px`:`${e(b)}px`,minWidth:e(n)?`${e(g)}px`:`${e(b)}px`,...e(V)})},null,4)):f("",!0),!e(p)||(e(d)??[]).length>0?(a(),_(j,{key:1,theme:e(o)==="inverted"?"dark":"light",collapsed:e(n)&&!e(c),trigger:null,"collapsed-width":e(g),width:e(b),collapsible:"",class:H(e(X)),style:I(e(V))},{default:l(()=>[e(E)?(a(),u("div",{key:0,class:H(["ant-pro-sider-logo",e(n)&&!e(c)?"ant-pro-sider-collapsed":""])},[T("a",null,[T("img",{src:e(v),alt:"logo"},null,8,_t),!e(n)||e(c)?(a(),u("h1",ft,x(e(m)),1)):f("",!0)])],2)):f("",!0),T("div",mt,[r(me)]),!e(c)&&e(t)?(a(),u("div",{key:1,class:H(["w-100% flex-shrink-0 ant-pro-sider-collapsed-button",e(o)==="inverted"?"ant-pro-sider-collapsed-button-inverted":""])},[r(N,{class:"ant-pro-sider-menu",mode:"inline",theme:e(o)==="inverted"?"dark":"light",selectable:!1,onClick:$[0]||($[0]=oe=>{var G;return(G=e(s))==null?void 0:G(!e(n))})},{default:l(()=>[r(y,null,{icon:l(()=>[e(n)?(a(),_(e(_e),{key:0})):(a(),_(e(ne),{key:1}))]),_:1})]),_:1},8,["theme"])],2)):f("",!0)]),_:1},8,["theme","collapsed","collapsed-width","width","class","style"])):f("",!0)],64)}}}),yt=U({__name:"index",setup(w){const{mobileCollapsed:n,siderWidth:t}=O();return(s,d)=>{const p=Ie;return a(),_(p,{open:e(n),"onUpdate:open":d[0]||(d[0]=h=>we(n)?n.value=h:null),closable:!1,placement:"left",width:e(t)},{default:l(()=>[r(ye)]),_:1},8,["open","width"])}}}),vt=U({__name:"split-menu",setup(w){const{splitState:n,menuData:t,handleSplitSelectedKeys:s}=O(),d=S(()=>{var p;return(p=t.value)==null?void 0:p.map(h=>({...ge(h,["children"]),childrenCount:(h.children??[]).length}))});return(p,h)=>{const v=B;return a(),_(v,{mode:"horizontal",theme:"dark",class:"ant-pro-sider-menu-header","selected-keys":e(n).selectedKeys,"onUpdate:selectedKeys":e(s)},{default:l(()=>[(a(!0),u(k,null,Q(e(d),o=>(a(),u(k,null,[o.hideInMenu?f("",!0):(a(),_(fe,{key:o.path,item:o,link:o.childrenCount<=0},null,8,["item","link"]))],64))),256))]),_:1},8,["selected-keys","onUpdate:selectedKeys"])}}}),gt={"onUpdate:openKeys":q(),"onUpdate:selectedKeys":q(),onMenuSelect:q()},kt={layout:W("mix"),logo:W(),title:W(),collapsedWidth:Z(48),siderWidth:Z(234),headerHeight:Z(48),menuData:ee(),fixedHeader:A(!1),fixedSider:A(!0),splitMenus:A(),collapsed:A(!1),leftCollapsed:A(!1),theme:W("light"),onCollapsed:q(),isMobile:A(),contentWidth:W(),header:A(!0),footer:A(!0),menu:A(!0),menuHeader:A(!0),openKeys:ee(),selectedKeys:ee(),copyright:W(),...gt},bt=["data-theme"],$t=U({name:"BasicLayout",__name:"index",props:kt,emits:["update:collapsed"],setup(w,{emit:n}){const t=w,s=n;function d(o){var m;s("update:collapsed",o),(m=t==null?void 0:t.onCollapsed)==null||m.call(t,o)}const{layout:p,contentWidth:h}=Je(t,{handleCollapsed:d}),v=S(()=>h.value==="Fixed"?"ant-pro-basicLayout-content-fixed":"");return(o,m)=>{const g=Be,b=lt,C=Ve,M=ze;return a(),u("div",{class:"ant-pro-basicLayout","data-theme":o.theme},[r(M,null,{default:l(()=>[o.menu?(a(),u(k,{key:0},[e(p)!=="top"&&!o.isMobile?(a(),_(ye,{key:0})):f("",!0)],64)):f("",!0),r(M,null,{default:l(()=>[o.header?(a(),_(ct,{key:0},D({_:2},[o.$slots.headerActions?{name:"headerActions",fn:l(()=>[F(o.$slots,"headerActions")]),key:"0"}:void 0,o.$slots.headerContent||e(p)==="top"||e(p)==="mix"?{name:"headerContent",fn:l(()=>[F(o.$slots,"headerContent",{},()=>[!o.isMobile&&e(p)==="top"?(a(),_(me,{key:0})):f("",!0),!o.isMobile&&e(p)==="mix"&&t.splitMenus?(a(),_(vt,{key:1})):f("",!0)])]),key:"1"}:void 0]),1024)):f("",!0),F(o.$slots,"contentPrefix"),r(g,{class:"ant-pro-basicLayout-content",flex:"","flex-col":""},{default:l(()=>[T("div",{"h-full":"",flex:"","flex-col":"","flex-1":"",class:H(e(v))},[F(o.$slots,"default")],2)]),_:3}),o.footer?(a(),_(C,{key:1,style:{"background-color":"transparent"}},{default:l(()=>[F(o.$slots,"footerRender",{},()=>[r(Xe,{copyright:o.copyright},D({_:2},[o.$slots.renderFooterLinks?{name:"renderFooterLinks",fn:l(()=>[r(b)]),key:"0"}:void 0]),1032,["copyright"])])]),_:3})):f("",!0)]),_:3})]),_:3}),o.menu?(a(),_(yt,{key:0})):f("",!0)],8,bt)}}}),xt=["onClick"],Ct=["onClick"],Mt=T("div",{class:"w-24px"},null,-1),St={class:"w-48px flex item-center justify-center"},wt=U({__name:"index",setup(w){const n=pe(),{list:t,activeKey:s}=z(n),{layoutSetting:d}=z(ce()),{layout:p,isMobile:h,collapsed:v,collapsedWidth:o,siderWidth:m,menu:g,selectedMenus:b}=O(),C=S(()=>{var $;const i={};if(d.value.multiTabFixed&&(i.position="fixed",i.top=`${d.value.headerHeight}px`,i.zIndex=199,i.right=0),(p.value==="side"||p.value==="mix")&&g.value&&!h.value&&d.value.multiTabFixed&&($=b.value)!=null&&$.length){const y=v.value?o.value:m.value;i.width=`calc(100% - ${y}px)`}return d.value.header===!1&&(i.top="0px"),i}),M=ae(),{height:c}=Le(M);function K({key:i},$){i==="closeCurrent"?n.close(s.value):i==="closeLeft"?n.closeLeft($):i==="closeRight"?n.closeRight($):i==="closeOther"?n.closeOther($):i==="refresh"&&n.refresh(s.value)}const R=S(()=>t.value.length===1||t.value.filter(i=>!i.affix).length<=1);function V(i){return t.value.findIndex(y=>y.fullPath===i)===0||t.value.filter(y=>!y.affix).length<=1}function X(i){return t.value.findIndex(y=>y.fullPath===i)===t.value.length-1||t.value.filter(y=>!y.affix).length<=1}const E=S(()=>t.value.length===1||t.value.filter(i=>!i.affix).length<=1);return ke(i=>{if(i.fullPath.startsWith("/redirect"))return;const $=t.value.find(y=>y.fullPath===i.fullPath);i.fullPath===s.value&&!($!=null&&$.loading)||(s.value=i.fullPath,n.addItem(i))},!0),Te(()=>{be()}),(i,$)=>{const y=J,N=B,j=he,oe=Ge,G=qe;return a(),u(k,null,[e(d).multiTabFixed?(a(),u("div",{key:0,style:I({height:`${e(c)}px`})},null,4)):f("",!0),r(G,{ref_key:"tabsRef",ref:M,"active-key":e(s),style:I(e(C)),class:"bg-white dark:bg-#242525 w-100% pro-ant-multi-tab","pt-10px":"",type:"card",size:"small","tab-bar-gutter":5,"onUpdate:activeKey":e(n).switchTab},{leftExtra:l(()=>[Mt]),rightExtra:l(()=>[T("div",St,[r(j,{trigger:["hover"]},{overlay:l(()=>[r(N,{onClick:$[0]||($[0]=L=>K(L,e(s)))},{default:l(()=>[r(y,{key:"closeOther",disabled:e(R)||e(E)},{default:l(()=>[P(x(i.$t("app.multiTab.closeOther")),1)]),_:1},8,["disabled"]),r(y,{key:"refresh"},{default:l(()=>[P(x(i.$t("app.multiTab.refresh")),1)]),_:1})]),_:1})]),default:l(()=>[r(e(Ee),{class:"text-16px"})]),_:1})])]),default:l(()=>[(a(!0),u(k,null,Q(e(t),L=>(a(),_(oe,{key:L.fullPath},{tab:l(()=>[r(j,{trigger:["contextmenu"]},{overlay:l(()=>[r(N,{onClick:Y=>K(Y,L.fullPath)},{default:l(()=>[r(y,{key:"closeCurrent",disabled:e(R)||e(s)!==L.fullPath},{default:l(()=>[P(x(i.$t("app.multiTab.closeCurrent")),1)]),_:2},1032,["disabled"]),r(y,{key:"closeLeft",disabled:e(R)||V(L.fullPath)},{default:l(()=>[P(x(i.$t("app.multiTab.closeLeft")),1)]),_:2},1032,["disabled"]),r(y,{key:"closeRight",disabled:e(R)||X(L.fullPath)},{default:l(()=>[P(x(i.$t("app.multiTab.closeRight")),1)]),_:2},1032,["disabled"]),r(y,{key:"closeOther",disabled:e(R)||e(E)},{default:l(()=>[P(x(i.$t("app.multiTab.closeOther")),1)]),_:1},8,["disabled"]),r(y,{key:"refresh",disabled:!e(R)},{default:l(()=>[P(x(i.$t("app.multiTab.refresh")),1)]),_:1},8,["disabled"])]),_:2},1032,["onClick"])]),default:l(()=>[T("div",null,[P(x(L.locale?i.$t(L.locale):L.title)+" ",1),e(s)===L.fullPath?(a(),u("button",{key:0,class:"ant-tabs-tab-remove",style:{margin:"0"},onClick:ie(Y=>e(n).refresh(L.fullPath),["stop"])},[r(e(Ne),{spin:L.loading},null,8,["spin"])],8,xt)):f("",!0),!L.affix&&e(t).length>1?(a(),u("button",{key:1,class:"ant-tabs-tab-remove",style:{margin:"0"},onClick:ie(Y=>e(n).close(L.fullPath),["stop"])},[r(e(je))],8,Ct)):f("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["active-key","style","onUpdate:activeKey"])],64)}}}),Ft=U({name:"ProLayout",__name:"index",setup(w){const n=ce(),{layoutSetting:t}=z(n),s=re(),d=ue();$e();const{selectedKeys:p,openKeys:h}=z(d),{isMobile:v,isPad:o}=Ye();Ke(o,g=>{g?n.toggleCollapsed(!0):n.toggleCollapsed(!1)});const m=S(()=>xe(n.layoutSetting,["fixedHeader","fixedSider","splitMenus","menuHeader","header","menu","layout","footer","contentWidth","compactAlgorithm"]));return(g,b)=>{const C=tt,M=Qe;return a(),u(k,null,[r($t,Pe({collapsed:e(t).collapsed,theme:e(t).theme,"menu-data":e(s).menuData},e(m),{"selected-keys":e(p),"open-keys":e(t).layout==="top"?[]:e(h),copyright:e(t).copyright,"is-mobile":e(v),logo:e(t).logo,title:e(t).title,"accordion-mode":e(t).accordionMode,"left-collapsed":e(t).leftCollapsed,"header-height":e(t).headerHeight,"onUpdate:openKeys":e(d).handleOpenKeys,"onUpdate:selectedKeys":e(d).handleSelectedKeys,"onUpdate:collapsed":e(n).toggleCollapsed}),{headerActions:l(()=>[r(C)]),contentPrefix:l(()=>[e(t).multiTab?(a(),_(wt,{key:0})):f("",!0)]),renderFooterLinks:l(()=>[]),default:l(()=>[r(M,{class:"h-full w-full flex flex-col flex-1",content:e(t).watermark?e(t).title??"Antdv Pro":" "},{default:l(()=>[r(Ce)]),_:1},8,["content"])]),_:1},16,["collapsed","theme","menu-data","selected-keys","open-keys","copyright","is-mobile","logo","title","accordion-mode","left-collapsed","header-height","onUpdate:openKeys","onUpdate:selectedKeys","onUpdate:collapsed"]),f("",!0)],64)}}});export{Ft as default};
