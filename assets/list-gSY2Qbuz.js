import{_ as $}from"./index.vue_vue_type_script_setup_true_lang-BrZtJ_-2.js";import{_ as z}from"./crud-table-modal.vue_vue_type_script_setup_true_lang-DsNj7I-g.js";import{u as U,g as V,d as G}from"./table-query-BxSBDTw1.js";import{u as H,_ as O}from"./index-88P_9uxT.js";import{ae as R,M as j,a8 as D,a9 as F,b2 as L,aZ as W,Y as X,X as Y,H as Z,S as J,aa as ee,Q as ae,aW as te,an as ne}from"./antd-D0j5ONzc.js";import{d as le,s as oe,f as v,c as ie,a4 as b,ab as se,ac as e,k as a,u as t,H as ue,G as s,a2 as de,ag as _e}from"./vue-BG1emjmP.js";import"./context-0Xei7Wty.js";const re={key:0,flex:"","gap-2":""},ce=le({__name:"list",setup(me){const p=H(),w=oe([{title:"名称",dataIndex:"name"},{title:"设备号(IMEI)",dataIndex:"value"},{title:"信息时间",dataIndex:"remark1"},{title:"定位时间",dataIndex:"remark1"},{title:"静止时间",dataIndex:"remark1"}]),{state:o,initQuery:x,resetQuery:N,query:T}=U({queryApi:V,queryParams:{name:void 0,value:void 0,remark:void 0},afterQuery:i=>(console.log(i),i)}),r=v();async function C(i){if(!i.id)return p.error("id 不能为空");try{(await G(i.id)).code===200&&await T(),p.success("删除成功")}catch(l){console.log(l)}finally{close()}}function I(){var i;(i=r.value)==null||i.open()}function q(i){var l;(l=r.value)==null||l.open(i)}const c=v(["1"]),M=ie(()=>[{key:"1",label:"静止车辆",title:"Navigation One"},{key:"2",label:"离线车辆",title:"Navigation Two"},{key:"3",label:"最近断电报警车辆",title:"Navigation Two"},{key:"4",label:"最近位移报警车辆",title:"Navigation Two"},{key:"5",label:"最近脱落报警车辆",title:"Navigation Two"},{key:"6",label:"最近GSM干扰报警车辆",title:"Navigation Two"},{key:"7",label:"最近出围栏报警车辆",title:"Navigation Two"},{key:"8",label:"二押点进入记录",title:"Navigation Two"},{key:"9",label:"二押点停留记录",title:"Navigation Two"},{key:"10",label:"二押点离开记录",title:"Navigation Two"},{key:"11",label:"设备分离报警记录",title:"Navigation Two"},{key:"12",label:"住址虚假报警记录",title:"Navigation Two"},{key:"13",label:"停留详单",title:"Navigation Two"}]);return(i,l)=>{const h=j,m=D,d=F,_=L,P=W,y=X,Q=Y,u=Z,f=J,g=ee,S=ae,A=te,B=ne,E=$;return b(),se(E,null,{default:e(()=>[a(g,{gutter:24},{default:e(()=>[a(d,{span:5,style:{"padding-right":"0px"}},{default:e(()=>[a(m,{bordered:!1,title:"风控管理"},{default:e(()=>[a(h,{selectedKeys:t(c),"onUpdate:selectedKeys":l[0]||(l[0]=n=>ue(c)?c.value=n:null),style:{width:"100%","border-right":"0"},mode:"inline",items:t(M)},null,8,["selectedKeys","items"])]),_:1})]),_:1}),a(d,{span:19},{default:e(()=>[a(m,{"mb-2":""},{default:e(()=>[a(S,{class:"system-crud-wrapper","label-col":{span:7},model:t(o).queryParams},{default:e(()=>[a(g,{gutter:[15,0]},{default:e(()=>[a(d,{flex:"500px"},{default:e(()=>[a(y,{name:"name",label:"距离时长","label-col":{style:{width:"80px"}}},{default:e(()=>[a(P,{value:t(o).queryParams.name,"onUpdate:value":l[1]||(l[1]=n=>t(o).queryParams.name=n),size:"small"},{default:e(()=>[a(_,{value:"a"},{default:e(()=>[s(" 一个小时以上 ")]),_:1}),a(_,{value:"b"},{default:e(()=>[s(" 三个小时以上 ")]),_:1}),a(_,{value:"c"},{default:e(()=>[s(" 一天以上 ")]),_:1}),a(_,{value:"d"},{default:e(()=>[s(" 三天以上 ")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),a(d,{flex:"430px"},{default:e(()=>[a(y,{name:"remark",label:"设备号"},{default:e(()=>[a(Q,{value:t(o).queryParams.remark,"onUpdate:value":l[2]||(l[2]=n=>t(o).queryParams.remark=n),placeholder:"请输入设备号(IMEI)客户名"},null,8,["value"])]),_:1})]),_:1}),a(d,{flex:"auto"},{default:e(()=>[a(f,{flex:"","justify-end":"","w-full":""},{default:e(()=>[a(u,{loading:t(o).loading,type:"primary",onClick:t(x)},{default:e(()=>[s(" 查询 ")]),_:1},8,["loading","onClick"]),a(u,{loading:t(o).loading,onClick:t(N)},{default:e(()=>[s(" 重置 ")]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a(m,null,{title:e(()=>[a(f,{size:"middle"},{default:e(()=>[a(u,{type:"default",disabled:!0},{default:e(()=>[s(" 批量删除 ")]),_:1})]),_:1})]),extra:e(()=>[a(f,{size:"middle"},{default:e(()=>[a(u,{type:"primary",onClick:I},{icon:e(()=>[a(t(R))]),default:e(()=>[s(" 导入 ")]),_:1})]),_:1})]),default:e(()=>[a(B,{"row-key":"id","row-selection":t(o).rowSelections,loading:t(o).loading,columns:t(w),"data-source":t(o).dataSource,pagination:t(o).pagination},{bodyCell:e(n=>{var k;return[((k=n==null?void 0:n.column)==null?void 0:k.dataIndex)==="action"?(b(),de("div",re,[a(u,{type:"link",onClick:K=>q(n==null?void 0:n.record)},{default:e(()=>[s(" 编辑 ")]),_:2},1032,["onClick"]),a(A,{title:"确定删除该条数据？","ok-text":"确定","cancel-text":"取消",onConfirm:K=>C(n==null?void 0:n.record)},{default:e(()=>[a(u,{type:"link"},{default:e(()=>[s(" 删除 ")]),_:1})]),_:2},1032,["onConfirm"])])):_e("",!0)]}),_:1},8,["row-selection","loading","columns","data-source","pagination"])]),_:1}),a(z,{ref_key:"crudTableModal",ref:r},null,512)]),_:1})]),_:1})]),_:1})}}}),we=O(ce,[["__scopeId","data-v-434c31f8"]]);export{we as default};
