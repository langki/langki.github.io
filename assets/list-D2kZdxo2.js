import{_ as U}from"./index.vue_vue_type_script_setup_true_lang-Bh2nhDkF.js";import{_ as L}from"./crud-table-modal.vue_vue_type_script_setup_true_lang-DN4RWVcP.js";import{u as O,g as Y,d as j}from"./table-query-BeZ8LqSM.js";import{u as G,_ as Z}from"./index-CEeQ7zLs.js";import{af as x,V as H,I as J,S as K,bk as R,a9 as W,aa as X,Y as ee,Z as te,ab as ae,U as ne,aY as oe,ap as le}from"./antd-DFqyiQ28.js";import{d as ie,s as re,f as u,a4 as s,ab as h,ac as e,k as t,u as a,G as r,ag as w,a2 as p,F as de,af as se}from"./vue-BG1emjmP.js";import"./context-bJvQG1WA.js";const _e={key:0},ce={key:0,flex:"","gap-2":""},ue=ie({__name:"list",setup(me){const y=G(),I=re([{title:"用户名",dataIndex:"name"},{title:"分类",dataIndex:"remark1"},{title:"终端用户手机号",dataIndex:"remark1"},{title:"设备物联网手机号",dataIndex:"remark1"},{title:"出厂时间",dataIndex:"remark1"},{title:"激活时间",dataIndex:"remark1"},{title:"操作",dataIndex:"action",width:100}]),{state:i,initQuery:b,resetQuery:v,query:C}=O({queryApi:Y,queryParams:{name:void 0,value:void 0,remark:void 0},afterQuery:o=>(console.log(o),o)}),m=u();async function q(o){if(!o.id)return y.error("id 不能为空");try{(await j(o.id)).code===200&&await C(),y.success("删除成功")}catch(l){console.log(l)}finally{close()}}function S(){var o;(o=m.value)==null||o.open()}function M(o){var l;(l=m.value)==null||l.open(o)}const P=u(!1),$=u(!0),A=u([{title:"国内用户",key:"0-0",children:[{title:"车悟空",key:"0-0-0",children:[{title:"用户1",key:"0-0-0-0"},{title:"用户2",key:"0-0-0-2"}]},{title:"星云车管家",key:"0-0-1",children:[{title:"用户4",key:"0-0-1-0"}]},{title:"风行车行",key:"0-0-2",children:[{title:"用户5",key:"0-0-2-0"},{title:"用户6",key:"0-0-2-1"}]}]},{title:"国际用户",key:"0-1",children:[{title:"川普车行",key:"0-1-0",children:[{title:"用户7",key:"0-1-0-0"},{title:"用户8",key:"0-1-0-1"}]}]}]),B=(o,l)=>{console.log("selected",o,l)};return(o,l)=>{const d=J,_=K,E=R,f=W,c=X,Q=ee,T=te,k=ae,V=ne,z=oe,D=le,F=U;return s(),h(F,null,{default:e(()=>[t(k,{gutter:24},{default:e(()=>[t(c,{span:5,style:{"padding-right":"0px"}},{default:e(()=>[t(f,{bordered:!1,title:"全部客户"},{extra:e(()=>[t(_,{size:"middle"},{default:e(()=>[t(d,{type:"link"},{icon:e(()=>[t(a(x))]),default:e(()=>[r(" 添加 ")]),_:1})]),_:1})]),default:e(()=>[t(E,{"show-line":a(P),"show-icon":a($),"default-expanded-keys":["0-0-0","0-0-1","0-0-2","0-1","0-1-0"],"tree-data":a(A),onSelect:B},{icon:e(({key:n})=>[n.length>=6?(s(),h(a(H),{key:0})):w("",!0)]),title:e(({dataRef:n})=>[n.key==="0-0-0-1"?(s(),p("div",_e,"1171912492")):(s(),p(de,{key:1},[r(se(n.title),1)],64))]),_:1},8,["show-line","show-icon","tree-data"])]),_:1})]),_:1}),t(c,{span:19},{default:e(()=>[t(f,{"mb-2":""},{default:e(()=>[t(V,{class:"system-crud-wrapper","label-col":{span:7},model:a(i).queryParams},{default:e(()=>[t(k,{gutter:[15,0]},{default:e(()=>[t(c,{flex:"630px"},{default:e(()=>[t(T,{name:"remark",label:"设备号(IMEI) /设备名称 "},{default:e(()=>[t(Q,{value:a(i).queryParams.remark,"onUpdate:value":l[0]||(l[0]=n=>a(i).queryParams.remark=n),placeholder:"请输入设备号(IMEI)客户名"},null,8,["value"])]),_:1})]),_:1}),t(c,{flex:"auto"},{default:e(()=>[t(_,{flex:"","justify-end":"","w-full":""},{default:e(()=>[t(d,{loading:a(i).loading,type:"primary",onClick:a(b)},{default:e(()=>[r(" 查询 ")]),_:1},8,["loading","onClick"]),t(d,{loading:a(i).loading,onClick:a(v)},{default:e(()=>[r(" 重置 ")]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(f,null,{title:e(()=>[t(_,{size:"middle"},{default:e(()=>[t(d,{type:"default",disabled:!0},{default:e(()=>[r(" 批量删除 ")]),_:1})]),_:1})]),extra:e(()=>[t(_,{size:"middle"},{default:e(()=>[t(d,{type:"primary",onClick:S},{icon:e(()=>[t(a(x))]),default:e(()=>[r(" 导入 ")]),_:1})]),_:1})]),default:e(()=>[t(D,{"row-key":"id","row-selection":a(i).rowSelections,loading:a(i).loading,columns:a(I),"data-source":a(i).dataSource,pagination:a(i).pagination},{bodyCell:e(n=>{var g;return[((g=n==null?void 0:n.column)==null?void 0:g.dataIndex)==="action"?(s(),p("div",ce,[t(d,{type:"link",onClick:N=>M(n==null?void 0:n.record)},{default:e(()=>[r(" 编辑 ")]),_:2},1032,["onClick"]),t(z,{title:"确定删除该条数据？","ok-text":"确定","cancel-text":"取消",onConfirm:N=>q(n==null?void 0:n.record)},{default:e(()=>[t(d,{type:"link"},{default:e(()=>[r(" 删除 ")]),_:1})]),_:2},1032,["onConfirm"])])):w("",!0)]}),_:1},8,["row-selection","loading","columns","data-source","pagination"])]),_:1}),t(L,{ref_key:"crudTableModal",ref:m},null,512)]),_:1})]),_:1})]),_:1})}}}),we=Z(ue,[["__scopeId","data-v-cc9f3d1a"]]);export{we as default};
