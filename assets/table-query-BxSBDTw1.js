import{z as s,B as c}from"./index-88P_9uxT.js";import{b6 as o}from"./antd-D0j5ONzc.js";import{r as l,o as d}from"./vue-BG1emjmP.js";async function f(r){return s("/list/crud-table",r)}async function y(r){return c(`/list/${r}`)}function w(r){const e=l(o({queryApi:()=>Promise.resolve(),loading:!1,queryParams:{},dataSource:[],rowSelections:{selectedRowKeys:[],selectedRows:[],onChange(a,t){e.rowSelections.selectedRowKeys=a,e.rowSelections.selectedRows=t}},queryOnMounted:!0,pagination:o({pageSize:10,pageSizeOptions:["10","20","30","40"],current:1,total:0,order:"desc",column:"createTime",showSizeChanger:!0,showQuickJumper:!0,showTotal:a=>`总数据位：${a}`,onChange(a,t){e.pagination.pageSize=t,e.pagination.current=a,n()}},r.pagination),expand:!1,expandChange(){e.expand=!e.expand},beforeQuery(){},afterQuery(a){return a}},r));async function n(){if(!e.loading){e.loading=!0;try{await e.beforeQuery();{const a={records:[{id:1,name:"第一个任务",value:"2000",remark:"一生那么短，遗忘又那么漫长"},{id:2,name:"Ant Design Vue",value:"200",remark:"有时，你必须进入别人的世界去发现自己的世界缺少什么"},{id:3,name:"Vue",value:"2010",remark:"一生那么短，遗忘又那么漫长"},{id:4,name:"Vite",value:"20300",remark:"希望是件美丽的东西，也许是最好的东西"},{id:5,name:"React",value:"2000",remark:"人并非生来就伟大，而是越活越伟大"},{id:6,name:"Antdv Pro",value:"2000",remark:"不管何时何地，做你想做的事永远都不嫌晚"},{id:7,name:"Webpack",value:"2000",remark:"你要一直不停地往前走，不然你不会知道生活还会给你什么"}],total:7};if(a){const t=await e.afterQuery(a);e.dataSource=t.records??[],e.pagination.total=t.total??0}}}catch(a){throw new Error(`Query Failed: ${a}`)}finally{e.loading=!1}}}function i(){e.pagination.current=1,e.queryParams={},n()}function u(){e.pagination.current=1,n()}return d(()=>{e.queryOnMounted&&n()}),{query:n,resetQuery:i,initQuery:u,state:e}}export{y as d,f as g,w as u};
